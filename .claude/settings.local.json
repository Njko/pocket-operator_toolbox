{
  "permissions": {
    "allow": [
      "WebFetch(domain:github.com)",
      "Bash(./gradlew build:*)",
      "WebFetch(domain:ajalt.github.io)",
      "Bash(./gradlew run:*)",
      "Bash(cat:*)",
      "Bash(./gradlew installDist:*)",
      "Bash(./build/install/po-toolbox/bin/po-toolbox view:*)",
      "Bash(./build/install/po-toolbox/bin/po-toolbox:*)",
      "Bash(./gradlew test:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nSetup Test-Driven Development infrastructure for Phase 4\n\nEstablish comprehensive TDD infrastructure to support advanced Phase 4 features. All new features will follow RED-GREEN-REFACTOR workflow with test-first development.\n\nTesting Infrastructure:\n- Added JaCoCo plugin for code coverage reporting \\(80% minimum\\)\n- Added MockK 1.13.8 for mocking framework\n- Added JUnit Jupiter 5.10.1 for enhanced testing\n- Configured test directory structure organized by component\n\nTest Organization:\n- src/test/kotlin/fr/nicolaslinard/po/toolbox/\n  - models/ - Model and data class tests\n  - io/ - Parser, writer, exporter tests\n  - commands/ - CLI command tests\n  - validation/ - Validation logic tests\n  - analysis/ - Pattern analysis tests\n  - integration/ - End-to-end workflow tests\n\nTest Utilities:\n- TestFixtures.kt: Reusable test data builders\n  - createSimplePattern\\(\\) - Basic 2-voice pattern\n  - createComplexPattern\\(\\) - Multi-voice pattern\n  - createEmptyPattern\\(\\) - Edge case testing\n  - createTestMetadata\\(\\) - Metadata fixtures\n\nInitial Test Suite:\n- PatternValidatorTest.kt: 14 tests, all passing âœ…\n  - Pattern number validation \\(1-16\\)\n  - Voice and step validation\n  - Metadata validation\n  - BPM range warnings\n  - Best practice checks\n\nDocumentation:\n- Comprehensive TDD section in CLAUDE.md\n- RED-GREEN-REFACTOR workflow explained\n- Test categories and best practices\n- Code coverage configuration\n- Example TDD implementation\n\nPhase 4 Features \\(TDD Approach\\):\n- Image display for manual transcription\n- OCR integration hooks\n- MIDI export\n- Pattern similarity search\n- Pattern statistics\n- Additional export formats\n\nCommands:\n  ./gradlew test                    # Run all tests\n  ./gradlew test --continuous       # Watch mode\n  ./gradlew jacocoTestReport        # Generate coverage report\n  ./gradlew test --tests \"ClassName\" # Run specific test\n\nTest Results:\nâœ… 14 tests passed\nâœ… 0 failures\nâœ… 0 errors\nâœ… Build successful\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(find:*)"
    ]
  }
}
